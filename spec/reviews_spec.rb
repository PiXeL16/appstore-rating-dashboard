require 'spec_helper.rb'

describe 'Get Reviews Info' do
  before(:each) do
    @mock_reviews_respose = {"feed"=>{"author"=>{"name"=>{"label"=>"iTunes Store"}, "uri"=>{"label"=>"http://www.apple.com/itunes/"}}, "entry"=>[{"im:name"=>{"label"=>"SoundCloud - Music & Audio"}, "rights"=>{"label"=>"Â© 2017 SoundCloud Ltd."}, "im:price"=>{"label"=>"Get", "attributes"=>{"amount"=>"0.00000", "currency"=>"USD"}}, "im:image"=>[{"label"=>"http://is1.mzstatic.com/image/thumb/Purple118/v4/0a/ce/5a/0ace5a13-0fb2-a783-88ff-24e82413877d/AppIcon-1x_U007emarketing-85-220-0-6.png/53x53bb-85.png", "attributes"=>{"height"=>"53"}}, {"label"=>"http://is3.mzstatic.com/image/thumb/Purple118/v4/0a/ce/5a/0ace5a13-0fb2-a783-88ff-24e82413877d/AppIcon-1x_U007emarketing-85-220-0-6.png/75x75bb-85.png", "attributes"=>{"height"=>"75"}}, {"label"=>"http://is4.mzstatic.com/image/thumb/Purple118/v4/0a/ce/5a/0ace5a13-0fb2-a783-88ff-24e82413877d/AppIcon-1x_U007emarketing-85-220-0-6.png/100x100bb-85.png", "attributes"=>{"height"=>"100"}}], "im:artist"=>{"label"=>"SoundCloud Ltd.", "attributes"=>{"href"=>"https://itunes.apple.com/us/developer/soundcloud-ltd/id336353154?mt=8&uo=2"}}, "title"=>{"label"=>"SoundCloud - Music & Audio - SoundCloud Ltd."}, "link"=>{"attributes"=>{"rel"=>"alternate", "type"=>"text/html", "href"=>"https://itunes.apple.com/us/app/soundcloud-music-audio/id336353151?mt=8&uo=2"}}, "id"=>{"label"=>"https://itunes.apple.com/us/app/soundcloud-music-audio/id336353151?mt=8&uo=2", "attributes"=>{"im:id"=>"336353151", "im:bundleId"=>"com.soundcloud.TouchApp"}}, "im:contentType"=>{"attributes"=>{"term"=>"Application", "label"=>"Application"}}, "category"=>{"attributes"=>{"im:id"=>"6011", "term"=>"Music", "scheme"=>"https://itunes.apple.com/us/genre/ios-music/id6011?mt=8&uo=2", "label"=>"Music"}}, "im:releaseDate"=>{"label"=>"2009-11-03T10:42:46-07:00", "attributes"=>{"label"=>"November 3, 2009"}}}, {"author"=>{"uri"=>{"label"=>"https://itunes.apple.com/us/reviews/id291846312"}, "name"=>{"label"=>"Tergeek"}, "label"=>""}, "im:version"=>{"label"=>"5.17.0"}, "im:rating"=>{"label"=>"1"}, "id"=>{"label"=>"1901621228"}, "title"=>{"label"=>"Trash"}, "content"=>{"label"=>"Hard to grow any sort of a following on the platform and even harder on the app.", "attributes"=>{"type"=>"text"}}, "link"=>{"attributes"=>{"rel"=>"related", "href"=>"https://itunes.apple.com/us/review?id=336353151&type=Purple%20Software"}}, "im:voteSum"=>{"label"=>"0"}, "im:contentType"=>{"attributes"=>{"term"=>"Application", "label"=>"Application"}}, "im:voteCount"=>{"label"=>"0"}}, {"author"=>{"uri"=>{"label"=>"https://itunes.apple.com/us/reviews/id139188280"}, "name"=>{"label"=>"DBZ rockz4809"}, "label"=>""}, "im:version"=>{"label"=>"5.17.0"}, "im:rating"=>{"label"=>"1"}, "id"=>{"label"=>"1901604806"}, "title"=>{"label"=>"It keeps closing on me"}, "content"=>{"label"=>"Fix it please", "attributes"=>{"type"=>"text"}}, "link"=>{"attributes"=>{"rel"=>"related", "href"=>"https://itunes.apple.com/us/review?id=336353151&type=Purple%20Software"}}, "im:voteSum"=>{"label"=>"0"}, "im:contentType"=>{"attributes"=>{"term"=>"Application", "label"=>"Application"}}, "im:voteCount"=>{"label"=>"0"}}, {"author"=>{"uri"=>{"label"=>"https://itunes.apple.com/us/reviews/id654308153"}, "name"=>{"label"=>"rmac214"}, "label"=>""}, "im:version"=>{"label"=>"5.17.0"}, "im:rating"=>{"label"=>"2"}, "id"=>{"label"=>"1901452210"}, "title"=>{"label"=>"Covers"}, "content"=>{"label"=>"Way too many cover songs hard to find the real song.", "attributes"=>{"type"=>"text"}}, "link"=>{"attributes"=>{"rel"=>"related", "href"=>"https://itunes.apple.com/us/review?id=336353151&type=Purple%20Software"}}, "im:voteSum"=>{"label"=>"0"}, "im:contentType"=>{"attributes"=>{"term"=>"Application", "label"=>"Application"}}, "im:voteCount"=>{"label"=>"0"}}]}}
    @reviews = Models::Reviews.new(@mock_reviews_respose)
  end

  it 'has random positive review' do
    expect(@reviews.random_positive_review).to be_nil
  end

  it 'has random negative review' do
    expect(@reviews.random_negative_review).to_not be_nil
  end 

end